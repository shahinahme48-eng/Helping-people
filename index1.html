<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nearby Helper ‚Äì Home + Helpers</title>
<style>
/* CSS Reset and Variables */
*{margin:0;padding:0;box-sizing:border-box;font-family: 'Poppins', sans-serif;}
:root {
  --bg: #0f172a;
  --header-bg: #020617;
  --card-bg: #1e293b;
  --accent: #22c55e;
  --emergency: #ef4444;
}

body{background: var(--bg); color:white; min-height:100vh; padding-bottom: 70px;}

/* Header */
.header{background: var(--header-bg); padding:20px; position: sticky; top:0; z-index: 100;}
.header-top {display: flex; justify-content: space-between; align-items: center;}
.header h2{font-size:22px; color: var(--accent);}
.header span{font-size:13px; opacity:.8;}
.header input{margin-top:15px; width:100%; padding:12px; border:none; border-radius:12px; background: var(--card-bg); color:white; font-size:14px; outline: none; border: 1px solid #334155;}

/* Common UI */
.section-title{margin:20px 16px 10px; font-weight:600; font-size:18px; color: var(--accent); display: flex; justify-content: space-between;}
.back-btn {cursor: pointer; font-size: 14px; color: #94a3b8;}

.grid{display:grid; grid-template-columns:repeat(2,1fr); gap:14px; padding:0 16px;}
.card{background: var(--header-bg); border-radius:16px; padding:20px; text-align:center; cursor:pointer; transition:.3s; border: 1px solid #1e293b;}
.card:active{transform: scale(0.95);}
.card .icon{font-size:35px; margin-bottom:10px; display: block;}
.card h4{font-size:15px; margin-bottom: 5px;}
.card p{font-size: 12px; opacity: 0.7;}

/* Emergency Style */
.card.emergency{border: 1px solid var(--emergency); background: #2d1313;}

/* Helper List Item */
.helper-list-item {
    background: var(--header-bg);
    margin: 10px 16px;
    padding: 15px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.call-btn {background: var(--accent); color: white; padding: 8px 15px; border-radius: 8px; text-decoration: none; font-size: 14px;}

/* Bottom Nav */
.nav{position:fixed; bottom:0; left:0; width:100%; background: var(--header-bg); display:flex; justify-content:space-around; padding:12px 0; border-top:1px solid #1e293b;}
.nav-item{font-size:12px; opacity:.6; cursor:pointer; text-align: center;}
.nav-item.active{opacity:1; color: var(--accent);}
.nav-item i {display: block; font-size: 20px; margin-bottom: 4px;}

/* Utils */
.section{display:none;}
.show{display:block;}
</style>
</head>
<body>

<!-- Home Section -->
<div id="homeSection" class="section show">
  <div class="header">
    <div class="header-top">
        <div>
            <h2>Nearby Helper</h2>
            <span>Find help around you</span>
        </div>
    </div>
    <input type="text" id="searchHome" placeholder="What service do you need?">
  </div>

  <div class="section-title">Emergency Services</div>
  <div class="grid">
    <div class="card emergency" onclick="openHelpers('Plumber', true)"><span class="icon">üöø</span><h4>Plumber</h4><p>Urgent Fix</p></div>
    <div class="card emergency" onclick="openHelpers('Medical', true)"><span class="icon">üöë</span><h4>Ambulance</h4><p>24/7 Support</p></div>
  </div>

  <div class="section-title">Regular Services</div>
  <div class="grid">
    <div class="card" onclick="openHelpers('Electrician')"><span class="icon">üßë‚Äçüîß</span><h4>Electrician</h4></div>
    <div class="card" onclick="openHelpers('Car')"><span class="icon">üöó</span><h4>Car Repair</h4></div>
    <div class="card" onclick="openHelpers('Delivery')"><span class="icon">üì¶</span><h4>Delivery</h4></div>
    <div class="card" onclick="openHelpers('Plumber')"><span class="icon">üöø</span><h4>Plumber</h4></div>
  </div>
</div>

<!-- Helpers List Section -->
<div id="helpersSection" class="section">
  <div class="header">
    <div class="back-btn" onclick="showSection('homeSection')">‚Üê Back to Categories</div>
    <h2 id="helpersTitle" style="margin-top:10px;">Helpers</h2>
    <input type="text" id="searchHelpers" placeholder="Search by name...">
  </div>
  <div id="helpersList">
    <!-- List items will be injected here -->
  </div>
</div>

<!-- Profile Section -->
<div id="profileSection" class="section">
    <div class="header"><h2>My Profile</h2></div>
    <div style="padding: 20px; text-align: center;">
        <div style="width:100px; height:100px; background:#334155; border-radius:50%; margin: 0 auto 15px;"></div>
        <h3>User Name</h3>
        <p style="opacity: 0.7;">Dhaka, Bangladesh</p>
        <button style="margin-top:20px; padding:10px 20px; background:var(--accent); border:none; color:white; border-radius:8px;">Edit Profile</button>
    </div>
</div>

<!-- Chats Section -->
<div id="chatsSection" class="section">
    <div class="header"><h2>Recent Chats</h2></div>
    <div style="padding: 20px; text-align: center; opacity: 0.5;">
        <p>No recent conversations</p>
    </div>
</div>

<!-- Bottom Nav -->
<div class="nav">
  <div class="nav-item active" onclick="showSection('homeSection', this)">Home</div>
  <div class="nav-item" onclick="showSection('chatsSection', this)">Chats</div>
  <div class="nav-item" onclick="showSection('profileSection', this)">Profile</div>
</div>

<script>
// Improved Data Structure
const helpersData = [
  {name:'Joe Root', category:'Plumber', distance:'1.2 km', isEmergency: true, phone: '01700...'},
  {name:'Ali Ahmed', category:'Electrician', distance:'0.8 km', isEmergency: false, phone: '01800...'},
  {name:'Dr. Ayesha', category:'Medical', distance:'2.5 km', isEmergency: true, phone: '01900...'},
  {name:'Rahim Uddin', category:'Electrician', distance:'3 km', isEmergency: false, phone: '01500...'},
  {name:'Samiul Islam', category:'Electrician', distance:'4.2 km', isEmergency: false, phone: '01300...'},
  {name:'Fast Delivery', category:'Delivery', distance:'1 km', isEmergency: false, phone: '01600...'}
];

// Navigation Function
function showSection(sectionId, element) {
  document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
  document.getElementById(sectionId).style.display = 'block';
  
  if(element) {
    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
    element.classList.add('active');
  }
}

// Function to open Helpers Section with filtering
function openHelpers(category, onlyEmergency = false){
  showSection('helpersSection');
  document.getElementById('helpersTitle').innerText = (onlyEmergency ? 'Emergency ' : '') + category;
  
  const listContainer = document.getElementById('helpersList');
  listContainer.innerHTML = '';

  const filtered = helpersData.filter(h => 
    h.category === category && (onlyEmergency ? h.isEmergency : true)
  );

  if(filtered.length === 0) {
    listContainer.innerHTML = '<p style="text-align:center; margin-top:20px; opacity:0.6;">No helpers found in this category.</p>';
    return;
  }

  filtered.forEach(helper => {
    const div = document.createElement('div');
    div.className = 'helper-list-item';
    div.innerHTML = `
      <div>
        <h4 style="margin:0">${helper.name}</h4>
        <small style="opacity:0.7">${helper.distance} away</small>
      </div>
      <a href="tel:${helper.phone}" class="call-btn">Call Now</a>
    `;
    listContainer.appendChild(div);
  });
}

// Simple search for Home
document.getElementById('searchHome').addEventListener('input', function(){
  const val = this.value.toLowerCase();
  document.querySelectorAll('#homeSection .card').forEach(card => {
    card.style.display = card.innerText.toLowerCase().includes(val) ? 'block' : 'none';
  });
});
</script>
</body>
</html>
