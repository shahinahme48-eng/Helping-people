<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helper Details</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family: 'Poppins', sans-serif;}
        body{background:#0f172a; color:white; min-height:100vh;}
        .header{background:#020617; padding:20px; position: sticky; top:0;}
        .container{padding:20px; text-align:center;}
        .profile-img{width:120px; height:120px; border-radius:50%; object-fit:cover; border:3px solid #22c55e; margin-bottom:15px; background:#1e293b;}
        .desc-box{background:#1e293b; padding:20px; border-radius:15px; text-align:left; margin:20px 0; border:1px solid #334155;}
        .desc-box h4{color:#22c55e; margin-bottom:10px;}
        .btn-group{display:flex; gap:10px;}
        .btn{flex:1; padding:15px; border-radius:12px; border:none; color:white; font-size:16px; font-weight:bold; cursor:pointer; text-decoration:none; display:block;}
        .btn-call{background:#22c55e;}
        .btn-chat{background:#3b82f6;}
    </style>
</head>
<body>
    <div class="header">
        <a href="index.html" style="color:#94a3b8; text-decoration:none; font-size:14px;">‚Üê Back</a>
        <h2 id="hName" style="margin-top:5px; color:#22c55e;">Loading...</h2>
    </div>
    <div class="container">
        <img id="hImg" src="" class="profile-img">
        <h3 id="hNameBig">Name</h3>
        <p id="hDist" style="opacity:0.7;">Distance: --</p>
        <div class="desc-box">
            <h4>About Service / Bio</h4>
            <p id="hDesc">Description will load here...</p>
        </div>
        <div class="btn-group">
            <a href="#" id="callBtn" class="btn btn-call">üìû Call Now</a>
            <a href="profile.html?page=chats" class="btn btn-chat">üí¨ Message</a>
        </div>
    </div>
    <script>
        const params = new URLSearchParams(window.location.search);
        const name = params.get('name');
        const phone = params.get('phone');
        
        document.getElementById('hName').innerText = name;
        document.getElementById('hNameBig').innerText = name;
        document.getElementById('hDist').innerText = "Distance: " + params.get('dist');
        document.getElementById('hDesc').innerText = decodeURIComponent(params.get('desc'));
        document.getElementById('callBtn').href = "tel:" + phone;

        const firebaseConfig = {
            apiKey: "AIzaSyCmOWTieB2TsG4caLergqTlfRYCB1_2WMM",
            authDomain: "ff-online-gaming-apps.firebaseapp.com",
            databaseURL: "https://ff-online-gaming-apps-default-rtdb.firebaseio.com",
            projectId: "ff-online-gaming-apps",
            storageBucket: "ff-online-gaming-apps.firebasestorage.app",
            messagingSenderId: "768845729474",
            appId: "1:768845729474:web:244992645acef124b3b55b"
        };
        if(!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        
        firebase.database().ref('helpers/').once('value', snap => {
            snap.forEach(child => {
                if(child.val().phone === phone) {
                    document.getElementById('hImg').src = child.val().photo;
                }
            });
        });
    </script>
</body>
</html>
