<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Helper Details</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;font-family: 'Poppins', sans-serif;}
  body{margin:0; background:#0f172a; color:white; min-height:100vh;}
  .header{background:#020617; padding:20px; position: sticky; top:0; z-index: 10;}
  .header h2{color:#22c55e; margin-top:5px;}
  .back-btn{color:#94a3b8; text-decoration:none; font-size:14px; display:inline-block; margin-bottom:5px;}
  
  .container{padding:20px;}
  .profile-card{background:#1e293b; padding:25px; border-radius:24px; text-align:center; border: 1px solid #334155;}
  .main-img{width:110px; height:110px; border-radius:50%; object-fit:cover; border:3px solid #22c55e; margin-bottom:15px; background: #334155;}
  
  .emergency-tag{background:#ef4444; color:white; padding:4px 12px; border-radius:20px; font-size:11px; font-weight:bold; display:inline-block; margin-bottom:10px; letter-spacing: 1px;}
  
  .description-box { text-align: left; background: #0f172a; padding: 15px; border-radius: 15px; margin: 20px 0; border: 1px solid #1e293b; }
  .description-box h4 { color: #22c55e; margin-bottom: 8px; font-size: 16px; }
  .description-box p { font-size: 14px; opacity: 0.85; line-height: 1.6; }

  .actions{display: flex; gap: 10px;}
  .btn{flex: 1; padding:15px; border-radius:12px; border:none; color:white; font-size:15px; font-weight:bold; cursor:pointer; text-decoration:none; display: flex; align-items: center; justify-content: center; gap: 8px;}
  .btn-call{background:#22c55e;}
  .btn-chat{background:#3b82f6;}
</style>
</head>
<body>

<div class="header">
  <a href="index.html" class="back-btn">‚Üê Back</a>
  <h2 id="hName">Helper Name</h2>
  <span id="hDist" style="font-size:14px; opacity:0.7;">Distance: --</span>
</div>

<div class="container">
  <div class="profile-card">
    <div id="emergTag"></div>
    <!-- ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶õ‡¶¨‡¶ø ‡¶ó‡¶ø‡¶ü‡¶π‡¶æ‡¶¨ ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨ ‡¶®‡¶æ ‡¶§‡¶æ‡¶á Firebase ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶®‡¶æ ‡¶π‡¶¨‡ßá -->
    <img src="" id="hImg" class="main-img" alt="Profile">
    
    <h3>Verified Service ‚úÖ</h3>
    
    <!-- ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ ‡¶¨‡¶ï‡ßç‡¶∏ -->
    <div class="description-box">
        <h4>About Service / Doctor's Bio</h4>
        <p id="hDesc">‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá...</p>
    </div>
    
    <div class="actions">
      <a href="#" id="callLink" class="btn btn-call">üìû Call Now</a>
      <a href="profile.html?page=chats" class="btn btn-chat">üí¨ Message</a>
    </div>
  </div>
</div>

<script>
// URL ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∞‡¶ø‡¶∏‡¶ø‡¶≠ ‡¶ï‡¶∞‡¶æ
const params = new URLSearchParams(window.location.search);
const name = params.get('name');
const dist = params.get('dist');
const phone = params.get('phone');
const emerg = params.get('emerg');
const desc = params.get('desc'); // ‡¶°‡ßá‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶Ü‡¶®‡¶æ ‡¶π‡¶≤‡ßã

// ‡¶™‡ßá‡¶ú‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶¨‡¶∏‡¶æ‡¶®‡ßã
document.getElementById('hName').innerText = name || "Helper";
document.getElementById('hDist').innerText = "Distance: " + (dist || "Unknown");
document.getElementById('hDesc').innerText = desc ? decodeURIComponent(desc) : "No description provided.";
document.getElementById('callLink').href = "tel:" + phone;

// ‡¶è‡¶Æ‡¶æ‡¶∞‡ßç‡¶ú‡ßá‡¶®‡ßç‡¶∏‡¶ø ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó
if(emerg === "true") {
  document.getElementById('emergTag').innerHTML = '<span class="emergency-tag">üö® EMERGENCY</span>';
}

// ‡¶õ‡¶¨‡¶ø ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶Æ‡¶∞‡¶æ Firebase ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶°‡¶æ‡¶ü‡¶æ ‡¶®‡ßá‡¶¨ ‡¶®‡¶æ ‡¶¨‡¶∞‡¶Ç ‡¶á‡¶®‡¶°‡ßá‡¶ï‡ßç‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶õ‡¶¨‡¶ø‡¶ü‡¶æ ‡¶ï‡ßã‡¶®‡ßã‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶≠‡¶æ‡¶≤‡ßã ‡¶π‡ßü‡•§ 
// ‡¶§‡¶¨‡ßá ‡¶Ü‡¶™‡¶æ‡¶§‡¶§ ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶¨‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶â‡¶™‡¶æ‡ßü ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡ßá‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§ ‡¶õ‡¶¨‡¶ø ‡¶¨‡ßú ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£‡ßá URL ‡¶è ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü ‡¶®‡¶æ‡•§
// ‡¶§‡¶æ‡¶á ‡¶Ü‡¶Æ‡¶∞‡¶æ detail ‡¶™‡ßá‡¶ú‡ßá ‡¶è‡¶∏‡ßá ‡¶®‡¶æ‡¶Æ ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶õ‡¶¨‡¶ø‡¶ü‡¶æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶®‡ßá‡¶¨‡•§

// ‡¶õ‡¶¨‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø Firebase ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶®‡¶æ (‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡ßÄ‡ßü)
const firebaseConfig = {
  apiKey: "AIzaSyCmOWTieB2TsG4caLergqTlfRYCB1_2WMM",
  authDomain: "ff-online-gaming-apps.firebaseapp.com",
  databaseURL: "https://ff-online-gaming-apps-default-rtdb.firebaseio.com",
  projectId: "ff-online-gaming-apps",
  storageBucket: "ff-online-gaming-apps.firebasestorage.app",
  messagingSenderId: "768845729474",
  appId: "1:768845729474:web:244992645acef124b3b55b"
};
if (!firebase.apps.length) {
    firebase.initializeApp(firebaseConfig);
}
const db = firebase.database();

// ‡¶õ‡¶¨‡¶ø‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶ø
db.ref('helpers/').once('value', snapshot => {
    snapshot.forEach(child => {
        if(child.val().name === name && child.val().phone === phone) {
            document.getElementById('hImg').src = child.val().photo;
        }
    });
});
</script>

<!-- Firebase Script Detail ‡¶™‡ßá‡¶ú‡ßá‡¶ì ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá ‡¶õ‡¶¨‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

</body>
</html>
